(()=>{var e={};e.id=578,e.ids=[578],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1057:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\hengs\\\\Desktop\\\\fyp\\\\frontend\\\\app\\\\(dashboard)\\\\school\\\\archived\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\hengs\\Desktop\\fyp\\frontend\\app\\(dashboard)\\school\\archived\\page.tsx","default")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3348:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(687),o=r(3210),a=r(4219),n=r(9556),i=r(3921),d=r(474),l=r(5814),c=r.n(l);function h(){let[e,t]=(0,o.useState)([]),[r,l]=(0,o.useState)(!0),[h,u]=(0,o.useState)(1),{t:p}=(0,i.o)(),f=Math.ceil(e.length/8),m=(h-1)*8,b=e.slice(m,m+8),v=async e=>{try{await (0,n.nE)(e),t(t=>t.filter(t=>t.id!==e))}catch{alert(p("failedToUnarchiveClassroom"))}};return r?(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(d.default,{src:"/icons/math.gif",alt:"Loading...",width:40,height:40}),(0,s.jsx)("span",{className:"text-gray-400 mt-2",children:p("loadingArchivedClassrooms")})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"overflow-x-auto rounded-xl border border-gray-200 shadow-sm",children:(0,s.jsxs)("table",{className:"min-w-full text-sm text-left",children:[(0,s.jsx)("thead",{className:"bg-gray-50 text-gray-600 uppercase text-xs hidden sm:table-header-group",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4",children:p("classroomName")}),(0,s.jsx)("th",{className:"px-6 py-4",children:p("totalStudents")}),(0,s.jsx)("th",{className:"px-6 py-4",children:p("view")}),(0,s.jsx)("th",{className:"px-6 py-4",children:p("action")})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100 bg-white",children:b.map((e,t)=>(0,s.jsxs)("tr",{className:"block sm:table-row sm:border-0 border-b border-gray-200 p-4 sm:p-0",children:[(0,s.jsxs)("td",{className:"px-6 py-4 flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full text-white flex items-center justify-center font-bold bg-gray-500",children:e.name?.charAt(0)}),(0,s.jsx)("div",{className:"text-sm font-medium",children:e.name})]}),(0,s.jsx)("td",{className:"px-6 py-4 sm:table-cell",children:e.totalStudents}),(0,s.jsx)("td",{className:"px-6 py-4 text-blue-600 hover:underline cursor-pointer sm:table-cell",children:(0,s.jsx)(c(),{href:`/school/archived-classrooms/${e.id}`,children:p("viewClassroom")})}),(0,s.jsx)("td",{className:"px-6 py-4 flex sm:table-cell sm:space-x-2 gap-2 sm:justify-start",children:(0,s.jsx)(a.$,{className:"bg-[#25388C] hover:bg-[#1e2e6d]",onClick:()=>v(e.id),children:p("unarchive")})})]},e.id||t))})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-4 justify-center mt-4",children:[(0,s.jsx)(a.$,{className:"bg-[#25388C] hover:bg-[#1e2e6d]",onClick:()=>u(e=>Math.max(e-1,1)),disabled:1===h,children:p("previous")}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[p("page")," ",h," ",p("of")," ",f]}),(0,s.jsx)(a.$,{className:"bg-[#25388C] hover:bg-[#1e2e6d]",onClick:()=>u(e=>Math.min(e+1,f)),disabled:h===f,children:p("next")})]})]})}let u=()=>{let{t:e}=(0,i.o)();return(0,s.jsxs)("section",{className:"w-full rounded-2xl bg-white p-7",children:[(0,s.jsx)("div",{className:"flex flex-wrap item center justify-between gap-2",children:(0,s.jsx)("h2",{className:"text-xl font-semibold",children:e("archivedClassroom")})}),(0,s.jsx)("div",{className:"pt-5 items-center",children:(0,s.jsx)(h,{})})]})}},3873:e=>{"use strict";e.exports=require("path")},3934:(e,t,r)=>{Promise.resolve().then(r.bind(r,3348))},4219:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(687);r(3210);var o=r(1391),a=r(9384);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=a.$;var d=r(6241);let l=((e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return i(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:o,defaultVariants:a}=t,d=Object.keys(o).map(e=>{let t=null==r?void 0:r[e],s=null==a?void 0:a[e];if(null===t)return null;let i=n(t)||n(s);return o[e][i]}),l=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return i(e,d,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:s,...o}=t;return Object.entries(o).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...l}[t]):({...a,...l})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)})("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c({className:e,variant:t,size:r,asChild:a=!1,...n}){let i=a?o.DX:"button";return(0,s.jsx)(i,{"data-slot":"button",className:(0,d.cn)(l({variant:t,size:r,className:e})),...n})}},5639:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>l});var s=r(5239),o=r(8088),a=r(8170),n=r.n(a),i=r(893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(t,d);let l={children:["",{children:["(dashboard)",{children:["school",{children:["archived",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1057)),"C:\\Users\\hengs\\Desktop\\fyp\\frontend\\app\\(dashboard)\\school\\archived\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6675)),"C:\\Users\\hengs\\Desktop\\fyp\\frontend\\app\\(dashboard)\\school\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8014)),"C:\\Users\\hengs\\Desktop\\fyp\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\hengs\\Desktop\\fyp\\frontend\\app\\(dashboard)\\school\\archived\\page.tsx"],h={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/(dashboard)/school/archived/page",pathname:"/school/archived",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},5782:(e,t,r)=>{Promise.resolve().then(r.bind(r,1057))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9556:(e,t,r)=>{"use strict";r.d(t,{C1:()=>m,KP:()=>b,Ko:()=>i,LP:()=>p,MV:()=>v,Nw:()=>P,QV:()=>$,Th:()=>E,VA:()=>d,VN:()=>c,bq:()=>C,dp:()=>u,ei:()=>y,fi:()=>n,kn:()=>k,m1:()=>j,nE:()=>l,nJ:()=>g,oC:()=>f,ot:()=>a,rq:()=>o,s5:()=>h,t:()=>N,uN:()=>w,zi:()=>x});let s="https://determined-passion-production-b403.up.railway.app/api",o=async()=>{let e=await fetch(`${s}/classrooms`,{headers:{}});if(!e.ok)throw Error("Failed to fetch classrooms");return e.json()},a=async e=>{let t=await fetch(`${s}/classrooms`,{method:"POST",headers:Object.assign({"Content-Type":"application/json"},{}),body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create classroom");return t.json()},n=async(e,t)=>{let r=await fetch(`${s}/classrooms/${e}`,{method:"PATCH",headers:Object.assign({"Content-Type":"application/json"},{}),body:JSON.stringify({name:t})});if(!r.ok)throw Error("Failed to update classroom");return r.json()},i=async e=>{let t=await fetch(`${s}/classrooms/${e}/archive`,{method:"PATCH",headers:{}});if(!t.ok)throw Error("Failed to archive classroom");return t.json()},d=async()=>{let e=await fetch(`${s}/classrooms/archived`,{headers:{}});if(!e.ok)throw Error("Failed to fetch archived classrooms");return e.json()},l=async e=>{let t=await fetch(`${s}/classrooms/${e}/unarchive`,{method:"PATCH",headers:{}});if(!t.ok)throw Error("Failed to unarchive classroom");return t.json()},c=async()=>{let e=await fetch(`${s}/students`,{headers:{}});if(!e.ok)throw Error("Failed to fetch students");return e.json()},h=async e=>{let t=await fetch(`${s}/students`,{method:"POST",headers:Object.assign({"Content-Type":"application/json"},{}),body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create student");return t.json()},u=async(e,t)=>{let r=await fetch(`${s}/students/${e}`,{method:"PUT",headers:Object.assign({"Content-Type":"application/json"},{}),body:JSON.stringify(t)});if(!r.ok)throw Error("Failed to update student");return r.json()},p=async e=>{let t=await fetch(`${s}/students/${e}`,{method:"DELETE",headers:{}});if(!t.ok)throw Error("Failed to delete student");return t.json()},f=async e=>{let t=await fetch(`${s}/students/${e}`,{headers:{}});if(!t.ok)throw Error("Failed to fetch student");return t.json()},m=async e=>{let t=await fetch(`${s}/classrooms/${e}`,{headers:{}});if(!t.ok)throw Error("Failed to fetch classroom");return t.json()},b=async e=>{let t=await fetch(`${s}/classrooms/${e}/students`,{headers:{}});if(!t.ok)throw Error("Failed to fetch classroom students");return t.json()},v=async(e,t)=>{let r=await fetch(`${s}/classrooms/${e}/students`,{method:"POST",headers:Object.assign({"Content-Type":"application/json"},{}),body:JSON.stringify({studentIds:t})});if(!r.ok)throw await r.json();return r.json()},x=async(e,t)=>{let r=await fetch(`${s}/classrooms/${e}/students/${t}`,{method:"DELETE",headers:{}});if(!r.ok)throw Error("Failed to remove student from classroom");return r.json()},y=async e=>{let t=await fetch(`${s}/report-cards/classrooms/${e}/report-cards`,{headers:{}});if(!t.ok)throw Error("Failed to fetch report cards");return t.json()},g=async(e,t)=>{let r=await fetch(`${s}/report-cards/classrooms/${e}/report-cards`,{method:"POST",headers:Object.assign({"Content-Type":"application/json"},{}),body:JSON.stringify({title:t})});if(!r.ok)throw Error("Failed to create report card");return r.json()},j=async e=>{let t=await fetch(`${s}/report-cards/${e}`,{method:"DELETE",headers:{}});if(!t.ok)throw Error("Failed to delete report card");return t.json()},w=async(e,t)=>{let r=await fetch(`${s}/report-cards/${e}/scores`,{method:"POST",headers:Object.assign({"Content-Type":"application/json"},{}),body:JSON.stringify({scores:t})});if(!r.ok)throw Error("Failed to save report card scores");return r.json()},k=async e=>{let t=await fetch(`${s}/report-cards/${e}/scores`,{headers:{}});if(!t.ok)throw Error("Failed to fetch report card scores");return t.json()},$=async(e,t)=>{let r=await fetch(`${s}/report-cards/${e}/send-sms`,{method:"POST",headers:Object.assign({"Content-Type":"application/json"},{}),body:JSON.stringify({studentIds:t})});if(!r.ok)throw Error("Failed to send SMS");return r.json()};async function N(){let e=localStorage.getItem("token"),t=await fetch(`${s}/user-subjects`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error("Failed to fetch custom subjects");return t.json()}async function E(e){let t=localStorage.getItem("token"),r=await fetch(`${s}/user-subjects`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({subject:e})});if(!r.ok)throw Error("Failed to add subject");return r.json()}async function C(e){let t=localStorage.getItem("token"),r=await fetch(`${s}/user-subjects`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({subject:e})});if(!r.ok)throw Error("Failed to delete subject");return r.json()}async function P(e,t){let r=localStorage.getItem("token"),o=await fetch(`${s}/report-cards/${e}/subjects`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({subjects:t})});if(!o.ok)throw Error("Failed to save report card subjects");return o.json()}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,9,658,598,751,219,10,905],()=>r(5639));module.exports=s})();
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport const getInitials = (name: string): string => {\n  if (!name) return \"\";\n  return name\n    .split(\" \")\n    .filter(Boolean)\n    .map((part) => part[0])\n    .join(\"\")\n    .toUpperCase()\n    .slice(0, 2);\n};\n\n// Save custom subjects for a user to localStorage\nexport function saveCustomSubjects(userId: string, subjects: string[]) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(`custom_subjects_${userId}`, JSON.stringify(subjects));\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AAEO,MAAM,cAAc,CAAC;IAC1B,IAAI,CAAC,MAAM,OAAO;IAClB,OAAO,KACJ,KAAK,CAAC,KACN,MAAM,CAAC,SACP,GAAG,CAAC,CAAC,OAAS,IAAI,CAAC,EAAE,EACrB,IAAI,CAAC,IACL,WAAW,GACX,KAAK,CAAC,GAAG;AACd;AAGO,SAAS,mBAAmB,MAAc,EAAE,QAAkB;IACnE,wCAAmC;;AAErC","debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/components/ui/avatar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\r\nimport { cn } from \"../../lib/utils\";\r\n\r\nconst Avatar = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Root\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n));\r\nAvatar.displayName = \"Avatar\";\r\n\r\nconst AvatarImage = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Image>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Image\r\n        ref={ref}\r\n        className={cn(\"aspect-square h-full w-full object-cover\", className)}\r\n        {...props}\r\n    />\r\n));\r\nAvatarImage.displayName = \"AvatarImage\";\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Fallback\r\n        ref={ref}\r\n        className={cn(\r\n            \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n));\r\nAvatarFallback.displayName = \"AvatarFallback\";\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback };\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,kKAAA,CAAA,OAAoB;QACjB,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACR,iEACA;QAEH,GAAG,KAAK;;;;;;AAGjB,OAAO,WAAW,GAAG;AAErB,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,kKAAA,CAAA,QAAqB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,4CAA4C;QACzD,GAAG,KAAK;;;;;;AAGjB,YAAY,WAAW,GAAG;AAE1B,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,kKAAA,CAAA,WAAwB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACR,wEACA;QAEH,GAAG,KAAK;;;;;;AAGjB,eAAe,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/constants.ts"],"sourcesContent":["export const FIELD_NAME = {\r\n  email: 'Email',\r\n  password: 'Password',\r\n};\r\n\r\nexport const FIELD_TYPES = {\r\n  email: 'email',\r\n  password: 'password',\r\n};\r\nexport const adminSideBarLinks = [\r\n  {\r\n    img: \"/icons/admin/home.svg\",\r\n    route: \"/school\",\r\n    text: \"Home\",\r\n  },\r\n  {\r\n    img: \"/icons/admin/users.svg\",\r\n    route: \"/school/student\",\r\n    text: \"All Students\",\r\n  },\r\n  {\r\n    img: \"/icons/admin/book.svg\",\r\n    route: \"/school/classrooms\",\r\n    text: \"All Classrooms\",\r\n  },\r\n  {\r\n    img: \"/icons/admin/bookmark.svg\",\r\n    route: \"/school/archived\",\r\n    text: \"Archive Classrooms\",\r\n  },\r\n  \r\n];\r\nexport const superAdminSideBarLinks = [\r\n  {\r\n    img: \"/icons/admin/home.svg\",\r\n    route: \"/admin\",\r\n    text: \"Home\",\r\n  },\r\n];"],"names":[],"mappings":";;;;;;AAAO,MAAM,aAAa;IACxB,OAAO;IACP,UAAU;AACZ;AAEO,MAAM,cAAc;IACzB,OAAO;IACP,UAAU;AACZ;AACO,MAAM,oBAAoB;IAC/B;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;IACA;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;IACA;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;IACA;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;CAED;AACM,MAAM,yBAAyB;IACpC;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;CACD","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/components/dashboard/profileMenuUp.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { LogOut } from \"lucide-react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { ChevronUp, UserRoundPen, ChevronDown,Languages } from \"lucide-react\";\r\n\r\n\r\ntype Props = {\r\n  name?: string;\r\n  email?: string;\r\n};\r\n\r\nexport default function ProfileMenuUp({ name, email }: Props) {\r\n  const [open, setOpen] = useState(false);\r\n  const [lang, setLang] = useState<\"en\" | \"kh\">(\"en\");\r\n  const [langDropdown, setLangDropdown] = useState(false);\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const router = useRouter();\r\n\r\n  const displayName = name && name.trim() ? name : \"User\";\r\n  const displayEmail = email && email.trim() ? email : \"user@example.com\";\r\n\r\n  useEffect(() => {\r\n    function handleClick(e: MouseEvent) {\r\n      if (ref.current && !ref.current.contains(e.target as Node)) {\r\n        setOpen(false);\r\n        setLangDropdown(false);\r\n      }\r\n    }\r\n    if (open || langDropdown) document.addEventListener(\"mousedown\", handleClick);\r\n    return () => document.removeEventListener(\"mousedown\", handleClick);\r\n  }, [open, langDropdown]);\r\n\r\n  return (\r\n    <div className=\"relative\" ref={ref}>\r\n      <button\r\n        className=\"ml-1 flex items-center justify-center rounded-full\"\r\n        title=\"Open menu\"\r\n        onClick={() => setOpen((v) => !v)}\r\n      >\r\n        <ChevronUp className={`w-5 h-5 transition-transform ${open ? \"rotate-180\" : \"\"}`} />\r\n      </button>\r\n      {open && (\r\n        <div\r\n          className=\"absolute left-1/2 bottom-full -translate-x-1/2 mb-4 w-64 bg-white rounded-lg shadow-lg border z-50 animate-fade-in-up\"\r\n          style={{ minWidth: 260 }}\r\n        >\r\n          <div className=\"p-4 border-b\">\r\n            <div className=\"font-bold\">{displayName}</div>\r\n            <div className=\"text-xs text-gray-500 truncate\">{displayEmail}</div>\r\n          </div>\r\n          <button\r\n            className=\"w-full text-left px-4 py-3 hover:bg-gray-50 flex items-center gap-2 font-semibold text-gray-700\"\r\n            onClick={() => {\r\n              setOpen(false);\r\n              router.push(\"/profile\");\r\n            }}\r\n          >\r\n            <span>\r\n              <UserRoundPen className=\"w-5 h-5\" />\r\n            </span> Edit profile\r\n          </button>\r\n          {/* Language Dropdown */}\r\n          <div className=\"w-full px-4 py-3 flex items-center gap-3 relative\">\r\n            <span className=\"font-semibold text-gray-700 flex items-center gap-1\">\r\n                <Languages className=\"w-4 h-4 mr-1\" />\r\n              Language\r\n            </span>\r\n            <button\r\n              className=\"ml-auto flex items-center gap-2 px-3 py-2 rounded  hover:bg-gray-200 transition\"\r\n              onClick={() => setLangDropdown((v) => !v)}\r\n              aria-label=\"Select language\"\r\n              type=\"button\"\r\n            >\r\n              {lang === \"en\" ? (\r\n                <>\r\n                  <span className=\"ml-1\">EN</span>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <span role=\"img\" aria-label=\"Cambodia Flag\">ðŸ‡°ðŸ‡­</span>\r\n                  <span className=\"ml-1\">KH</span>\r\n                </>\r\n              )}\r\n              <ChevronDown className=\"w-4 h-4\" />\r\n            </button>\r\n            {langDropdown && (\r\n              <div className=\"absolute right-0 top-12 mt-1 w-32 bg-white border rounded shadow z-50\">\r\n                <button\r\n                  className=\"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-100\"\r\n                  onClick={() => {\r\n                    setLang(\"en\");\r\n                    setLangDropdown(false);\r\n                  }}\r\n                >\r\n                  <span role=\"img\" aria-label=\"UK Flag\">ðŸ‡¬ðŸ‡§</span>\r\n                  <span>EN</span>\r\n                </button>\r\n                <button\r\n                  className=\"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-100\"\r\n                  onClick={() => {\r\n                    setLang(\"kh\");\r\n                    setLangDropdown(false);\r\n                  }}\r\n                >\r\n                  <span role=\"img\" aria-label=\"Cambodia Flag\">ðŸ‡°ðŸ‡­</span>\r\n                  <span>KH</span>\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <button\r\n            className=\"w-full text-left px-4 py-3 hover:bg-red-50 text-red-600 flex items-center gap-2 border-t\"\r\n            onClick={() => {\r\n              localStorage.removeItem(\"token\");\r\n              router.push(\"/login\");\r\n            }}\r\n          >\r\n            <LogOut className=\"w-5 h-5\" /> Logout\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 455, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/components/dashboard/Schoolsidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { Avatar } from \"@/components/ui/avatar\";\r\nimport { AvatarFallback } from \"@radix-ui/react-avatar\";\r\nimport { cn, getInitials } from \"@/lib/utils\";\r\nimport type { Session } from \"@/lib/user\"; \r\nimport { adminSideBarLinks } from \"@/constants\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport ProfileMenuUp from \"./profileMenuUp\"; // Add this import\r\n\r\n\r\nconst SchoolSidebar = ({ session }: { session: Session }) => {\r\n  const pathname = usePathname();\r\n\r\n  return (\r\n    <div className=\"sticky left-0 top-0 flex h-dvh flex-col justify-between bg-white px-5 pb-5 pt-10 max-md:w-20 max-md:px-2\">\r\n      <div>\r\n        {/* Logo Section */}\r\n        <div className=\"flex flex-row items-center gap-2 border-b border-dashed pb-10 max-md:justify-center\">\r\n          <Image\r\n            src=\"/icons/admin/logo.svg\"\r\n            alt=\"Logo\"\r\n            width={37}\r\n            height={37}\r\n          />\r\n          <h1 className=\"text-2xl font-semibold text-[#25388C] max-md:hidden\">\r\n            EdGrade\r\n          </h1>\r\n        </div>\r\n\r\n        {/* Navigation Links */}\r\n        <div className=\"mt-10 flex flex-col gap-5\">\r\n          {adminSideBarLinks.map((link) => {\r\n            const isSelected =\r\n              (link.route !== \"/school\" &&\r\n                pathname.includes(link.route) &&\r\n                link.route.length > 1) ||\r\n              pathname === link.route;\r\n\r\n            return (\r\n              <Link href={link.route} key={link.route}>\r\n                <div\r\n                  className={cn(\r\n                    \"flex items-center gap-2 rounded-lg font-medium text-base transition-colors\",\r\n                    // Desktop styles\r\n                    \"px-5 py-2 sm:px-4 sm:py-2 sm:text-sm\",\r\n                    // Mobile styles - square shape with centered icon\r\n                    \"max-md:justify-center max-md:px-2 max-md:py-3 max-md:w-12 max-md:h-12 max-md:mx-auto\",\r\n                    isSelected\r\n                      ? \"border border-[#B9C6E4] bg-[#25388C] text-white hover:bg-[#1e2e6d]\"\r\n                      : \"text-gray-700 hover:bg-gray-50 hover:text-[#25388C]\"\r\n                  )}\r\n                >\r\n                  <Image\r\n                    src={link.img}\r\n                    alt={link.text}\r\n                    width={20}\r\n                    height={20}\r\n                    className={cn(\r\n                      \"transition-all duration-200\",\r\n                      isSelected ? \"brightness-0 invert\" : \"\"\r\n                    )}\r\n                  />\r\n                  <span className=\"max-md:hidden\">{link.text}</span>\r\n                </div>\r\n              </Link>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* User Profile Section */}\r\n      <div className=\"w-full flex justify-center\">\r\n        <div className=\"flex items-center gap-3 rounded-[32px] bg-white shadow px-4 py-2 border border-gray-100 w-[95%] mx-auto\">\r\n          {/* Avatar */}\r\n          <div className=\"relative\">\r\n            <Avatar className=\"h-9 w-9\">\r\n              <AvatarFallback className=\"flex h-9 w-9 items-center justify-center rounded-full bg-orange-100 text-base font-semibold text-black\">\r\n                {getInitials(session?.user?.name || session?.user?.email || \"IN\")}\r\n              </AvatarFallback>\r\n            </Avatar>\r\n          </div>\r\n          {/* User info */}\r\n          <div className=\"flex flex-col min-w-0 flex-1\">\r\n            <p className=\"truncate text-[15px] font-semibold text-gray-900 leading-5\">\r\n              {session?.user?.name || \"User\"}\r\n            </p>\r\n            <p className=\"truncate text-[13px] text-gray-500 leading-4\">\r\n              {session?.user?.email}\r\n            </p>\r\n          </div>\r\n          {/* Open menu button */}\r\n          <ProfileMenuUp\r\n            name={session?.user?.name}\r\n            email={session?.user?.email}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    \r\n  );\r\n};\r\n\r\nexport default SchoolSidebar;"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,oPAA6C,kBAAkB;AAX/D;;;;;;;;;;AAcA,MAAM,gBAAgB,CAAC,EAAE,OAAO,EAAwB;IACtD,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAE3B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;;kCAEC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,6HAAA,CAAA,UAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;;;;;;0CAEV,8OAAC;gCAAG,WAAU;0CAAsD;;;;;;;;;;;;kCAMtE,8OAAC;wBAAI,WAAU;kCACZ,yGAAA,CAAA,oBAAiB,CAAC,GAAG,CAAC,CAAC;4BACtB,MAAM,aACJ,AAAC,KAAK,KAAK,KAAK,aACd,SAAS,QAAQ,CAAC,KAAK,KAAK,KAC5B,KAAK,KAAK,CAAC,MAAM,GAAG,KACtB,aAAa,KAAK,KAAK;4BAEzB,qBACE,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAM,KAAK,KAAK;0CACpB,cAAA,8OAAC;oCACC,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,8EACA,iBAAiB;oCACjB,wCACA,kDAAkD;oCAClD,wFACA,aACI,uEACA;;sDAGN,8OAAC,6HAAA,CAAA,UAAK;4CACJ,KAAK,KAAK,GAAG;4CACb,KAAK,KAAK,IAAI;4CACd,OAAO;4CACP,QAAQ;4CACR,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,+BACA,aAAa,wBAAwB;;;;;;sDAGzC,8OAAC;4CAAK,WAAU;sDAAiB,KAAK,IAAI;;;;;;;;;;;;+BAvBjB,KAAK,KAAK;;;;;wBA2B3C;;;;;;;;;;;;0BAKJ,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,2HAAA,CAAA,SAAM;gCAAC,WAAU;0CAChB,cAAA,8OAAC,kKAAA,CAAA,iBAAc;oCAAC,WAAU;8CACvB,CAAA,GAAA,4GAAA,CAAA,cAAW,AAAD,EAAE,SAAS,MAAM,QAAQ,SAAS,MAAM,SAAS;;;;;;;;;;;;;;;;sCAKlE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CACV,SAAS,MAAM,QAAQ;;;;;;8CAE1B,8OAAC;oCAAE,WAAU;8CACV,SAAS,MAAM;;;;;;;;;;;;sCAIpB,8OAAC,yIAAA,CAAA,UAAa;4BACZ,MAAM,SAAS,MAAM;4BACrB,OAAO,SAAS,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAQlC;uCAEe","debugId":null}},
    {"offset": {"line": 649, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/components/dashboard/Header.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\ntype UserSession = {\r\n  user: {\r\n    name?: string;\r\n    // add other user properties as needed\r\n  };\r\n};\r\n\r\nconst Header = ({ session }: { session: UserSession }) => {\r\n  return (\r\n    <header className=\"flex lg:items-end items-start justify-between lg:flex-row flex-col gap-5 sm:mb-10 mb-5\">\r\n      <div>\r\n        <h2 className=\"text-2xl font-semibold text-dark-400\">\r\n          Welcome, {session?.user?.name || \"User\"}\r\n        </h2>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;"],"names":[],"mappings":";;;;;AASA,MAAM,SAAS,CAAC,EAAE,OAAO,EAA4B;IACnD,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;sBACC,cAAA,8OAAC;gBAAG,WAAU;;oBAAuC;oBACzC,SAAS,MAAM,QAAQ;;;;;;;;;;;;;;;;;AAK3C;uCAEe","debugId":null}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/lib/user.ts"],"sourcesContent":["export type User = {\r\n  id: string;\r\n  email: string;\r\n  name?: string;\r\n  role: string;\r\n};\r\n\r\nexport type Session = {\r\n  user: User;\r\n};\r\n\r\nexport const getUserInfo = async (token: string) => {\r\n  const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/auth/me`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n  if (!res.ok) throw new Error('Unauthorized');\r\n  return res.json();\r\n};"],"names":[],"mappings":";;;AAWO,MAAM,cAAc,OAAO;IAChC,MAAM,MAAM,MAAM,MAAM,6DAAmC,YAAY,CAAC,EAAE;QACxE,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 705, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/app/%28dashboard%29/school/layout.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\nimport SchoolSidebar from \"@/components/dashboard/Schoolsidebar\";\r\nimport Header from \"@/components/dashboard/Header\";\r\nimport { getUserInfo, Session } from \"@/lib/user\";\r\n\r\nexport default function Layout({ children }: { children: React.ReactNode }) {\r\n  const [session, setSession] = useState<Session | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const token = typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\r\n    if (!token) {\r\n      router.replace(\"/login\");\r\n      return;\r\n    }\r\n    getUserInfo(token)\r\n      .then((user) => {\r\n        if (user.role === \"user\") {\r\n          setSession({ user });\r\n        } else {\r\n          router.replace(\"/unauthorized\");\r\n        }\r\n      })\r\n      .catch(() => {\r\n        router.replace(\"/login\");\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }, [router]);\r\n\r\n  if (loading)\r\n    return (\r\n      <div className=\"flex h-screen w-full flex-col items-center justify-center\">\r\n        <Image\r\n          priority\r\n          src=\"/icons/math.gif\"\r\n          alt=\"Loading...\"\r\n          width={64}\r\n          height={64}\r\n          className=\"mb-4 h-16 w-16\"\r\n          unoptimized\r\n        \r\n        />\r\n      </div>\r\n    );\r\n  if (!session) return null;\r\n\r\n  return (\r\n    <main className=\"flex min-h-screen w-full flex-row\">\r\n      <SchoolSidebar session={session} />\r\n      <div className=\"flex w-[calc(100%-264px)] flex-1 flex-col bg-[#F8F8FF] p-5 sm:p-10\">\r\n        <Header session={session} />\r\n        {children}\r\n      </div>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAQe,SAAS,OAAO,EAAE,QAAQ,EAAiC;IACxE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,6EAAgE;QAC9E,wCAAY;YACV,OAAO,OAAO,CAAC;YACf;QACF;;IAaF,GAAG;QAAC;KAAO;IAEX,IAAI,SACF,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;YACJ,QAAQ;YACR,KAAI;YACJ,KAAI;YACJ,OAAO;YACP,QAAQ;YACR,WAAU;YACV,WAAW;;;;;;;;;;;IAKnB,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC,yIAAA,CAAA,UAAa;gBAAC,SAAS;;;;;;0BACxB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,kIAAA,CAAA,UAAM;wBAAC,SAAS;;;;;;oBAChB;;;;;;;;;;;;;AAIT","debugId":null}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/components/dashboard/Sidebar.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/dashboard/Sidebar.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/Sidebar.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAoS,GACjU,kEACA","debugId":null}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/components/dashboard/Sidebar.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/dashboard/Sidebar.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/dashboard/Sidebar.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgR,GAC7S,8CACA","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/lib/user.ts"],"sourcesContent":["export type User = {\r\n  id: string;\r\n  email: string;\r\n  name?: string;\r\n  role: string;\r\n};\r\n\r\nexport type Session = {\r\n  user: User;\r\n};\r\n\r\nexport const getUserInfo = async (token: string) => {\r\n  const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/auth/me`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n  if (!res.ok) throw new Error('Unauthorized');\r\n  return res.json();\r\n};"],"names":[],"mappings":";;;AAWO,MAAM,cAAc,OAAO;IAChC,MAAM,MAAM,MAAM,MAAM,6DAAmC,YAAY,CAAC,EAAE;QACxE,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/app/%28dashboard%29/admin/new/page.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Sidebar from \"@/components/dashboard/Sidebar\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { getUserInfo, Session } from \"@/lib/user\";\r\n\r\nconst Page = () => {\r\n    const [session, setSession] = useState<Session | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        const token = typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\r\n        if (!token) {\r\n            router.replace(\"/login\");\r\n            return;\r\n        }\r\n        getUserInfo(token)\r\n            .then((user) => {\r\n                if (user.role === \"admin\") {\r\n                    setSession({ user });\r\n                } else {\r\n                    router.replace(\"/unauthorized\");\r\n                }\r\n            })\r\n            .catch(() => {\r\n                router.replace(\"/login\");\r\n            })\r\n            .finally(() => setLoading(false));\r\n    }, [router]);\r\n\r\n    if (loading)\r\n        return <div className=\"flex h-screen w-full items-center justify-center\">Loading...</div>;\r\n    if (!session) return null;\r\n\r\n    return (\r\n        <div className=\"flex min-h-screen w-full flex-row\">\r\n            <Sidebar session={session} />\r\n            <main className=\"flex-1 p-4\">page</main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Page;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAAA;AACA;;;;;;AAEA,MAAM,OAAO;IACT,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,qLAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,QAAQ,6EAAgE;QAC9E,wCAAY;YACR,OAAO,OAAO,CAAC;YACf;QACJ;;IAaJ,GAAG;QAAC;KAAO;IAEX,IAAI,SACA,qBAAO,8OAAC;QAAI,WAAU;kBAAmD;;;;;;IAC7E,IAAI,CAAC,SAAS,OAAO;IAErB,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC,mIAAA,CAAA,UAAO;gBAAC,SAAS;;;;;;0BAClB,8OAAC;gBAAK,WAAU;0BAAa;;;;;;;;;;;;AAGzC;uCAEe","debugId":null}}]
}
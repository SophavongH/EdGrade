{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport const getInitials = (name: string): string => {\n  if (!name) return \"\";\n  return name\n    .split(\" \")\n    .filter(Boolean)\n    .map((part) => part[0])\n    .join(\"\")\n    .toUpperCase()\n    .slice(0, 2);\n};\n\n// Save custom subjects for a user to localStorage\nexport function saveCustomSubjects(userId: string, subjects: string[]) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(`custom_subjects_${userId}`, JSON.stringify(subjects));\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AAEO,MAAM,cAAc,CAAC;IAC1B,IAAI,CAAC,MAAM,OAAO;IAClB,OAAO,KACJ,KAAK,CAAC,KACN,MAAM,CAAC,SACP,GAAG,CAAC,CAAC,OAAS,IAAI,CAAC,EAAE,EACrB,IAAI,CAAC,IACL,WAAW,GACX,KAAK,CAAC,GAAG;AACd;AAGO,SAAS,mBAAmB,MAAc,EAAE,QAAkB;IACnE,wCAAmC;;AAErC","debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/components/ui/avatar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\r\nimport { cn } from \"../../lib/utils\";\r\n\r\nconst Avatar = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Root\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n));\r\nAvatar.displayName = \"Avatar\";\r\n\r\nconst AvatarImage = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Image>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Image\r\n        ref={ref}\r\n        className={cn(\"aspect-square h-full w-full object-cover\", className)}\r\n        {...props}\r\n    />\r\n));\r\nAvatarImage.displayName = \"AvatarImage\";\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Fallback\r\n        ref={ref}\r\n        className={cn(\r\n            \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n));\r\nAvatarFallback.displayName = \"AvatarFallback\";\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback };\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,kKAAA,CAAA,OAAoB;QACjB,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACR,iEACA;QAEH,GAAG,KAAK;;;;;;AAGjB,OAAO,WAAW,GAAG;AAErB,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,kKAAA,CAAA,QAAqB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,4CAA4C;QACzD,GAAG,KAAK;;;;;;AAGjB,YAAY,WAAW,GAAG;AAE1B,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,kKAAA,CAAA,WAAwB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACR,wEACA;QAEH,GAAG,KAAK;;;;;;AAGjB,eAAe,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/constants.ts"],"sourcesContent":["export const FIELD_NAME = {\r\n  email: 'Email',\r\n  password: 'Password',\r\n};\r\n\r\nexport const FIELD_TYPES = {\r\n  email: 'email',\r\n  password: 'password',\r\n};\r\nexport const adminSideBarLinks = [\r\n  {\r\n    img: \"/icons/admin/home.svg\",\r\n    route: \"/school\",\r\n    text: \"Home\",\r\n  },\r\n  {\r\n    img: \"/icons/admin/users.svg\",\r\n    route: \"/school/student\",\r\n    text: \"All Students\",\r\n  },\r\n  {\r\n    img: \"/icons/admin/book.svg\",\r\n    route: \"/school/classrooms\",\r\n    text: \"All Classrooms\",\r\n  },\r\n  {\r\n    img: \"/icons/admin/bookmark.svg\",\r\n    route: \"/school/archived\",\r\n    text: \"Archive Classrooms\",\r\n  },\r\n  \r\n];\r\nexport const superAdminSideBarLinks = [\r\n  {\r\n    img: \"/icons/admin/home.svg\",\r\n    route: \"/admin\",\r\n    text: \"Home\",\r\n  },\r\n];"],"names":[],"mappings":";;;;;;AAAO,MAAM,aAAa;IACxB,OAAO;IACP,UAAU;AACZ;AAEO,MAAM,cAAc;IACzB,OAAO;IACP,UAAU;AACZ;AACO,MAAM,oBAAoB;IAC/B;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;IACA;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;IACA;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;IACA;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;CAED;AACM,MAAM,yBAAyB;IACpC;QACE,KAAK;QACL,OAAO;QACP,MAAM;IACR;CACD","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/components/dashboard/Sidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { Avatar } from \"@/components/ui/avatar\";\r\nimport { AvatarFallback } from \"@radix-ui/react-avatar\";\r\nimport { getInitials } from \"@/lib/utils\";\r\nimport type { Session } from \"@/lib/user\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { superAdminSideBarLinks } from \"@/constants\";\r\nimport ProfileMenuUp from \"./rofileMenuUp\"; // Make sure the import matches the file name\r\n\r\nconst Sidebar = ({ session }: { session: Session }) => {\r\n  const pathname = usePathname();\r\n\r\n  return (\r\n    <aside\r\n      className=\"sticky left-0 top-0 flex h-dvh flex-col justify-between bg-gradient-to-b from-[#f5f8ff] to-[#e9eef8] px-5 pb-5 pt-10 shadow-lg max-md:w-20 max-md:px-2\"\r\n      style={{ minWidth: 80 }}\r\n    >\r\n      <div>\r\n        {/* Logo Section */}\r\n        <div className=\"flex flex-row items-center gap-2 border-b border-dashed pb-8 max-md:justify-center\">\r\n          <Image\r\n            src=\"/icons/admin/logo.svg\"\r\n            alt=\"Logo\"\r\n            width={37}\r\n            height={37}\r\n            className=\"drop-shadow\"\r\n          />\r\n          <h1 className=\"text-2xl font-bold text-[#25388C] tracking-tight max-md:hidden\">\r\n            EdGrade\r\n          </h1>\r\n        </div>\r\n\r\n        {/* Navigation Links */}\r\n        <nav className=\"mt-10 flex flex-col gap-2\">\r\n          {superAdminSideBarLinks.map((link) => {\r\n            const isSelected =\r\n              link.route === \"/admin\"\r\n                ? pathname.startsWith(\"/admin\")\r\n                : pathname === link.route;\r\n\r\n            return (\r\n              <Link href={link.route} key={link.route}>\r\n                <div\r\n                  className={[\r\n                    \"flex items-center gap-3 rounded-lg font-medium text-base transition-all duration-150 cursor-pointer\",\r\n                    \"px-5 py-2 sm:px-4 sm:py-2 sm:text-sm\",\r\n                    \"max-md:justify-center max-md:px-2 max-md:py-3 max-md:w-12 max-md:h-12 max-md:mx-auto\",\r\n                    isSelected\r\n                      ? \"border border-[#B9C6E4] bg-[#25388C] text-white shadow hover:bg-[#1e2e6d]\"\r\n                      : \"text-gray-700 hover:bg-[#e3e9f7] hover:text-[#25388C]\",\r\n                  ].join(\" \")}\r\n                >\r\n                  <Image\r\n                    src={link.img}\r\n                    alt={link.text}\r\n                    width={20}\r\n                    height={20}\r\n                    className={isSelected ? \"brightness-0 invert\" : \"\"}\r\n                  />\r\n                  <span className=\"max-md:hidden\">{link.text}</span>\r\n                </div>\r\n              </Link>\r\n            );\r\n          })}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* User Profile Section */}\r\n      <div className=\"w-full flex justify-center mt-8\">\r\n        <div className=\"flex items-center gap-3 rounded-2xl bg-white shadow-lg px-4 py-3 border border-gray-100 w-[95%] mx-auto transition-all duration-150\">\r\n          {/* Avatar */}\r\n          <div className=\"relative\">\r\n            <Avatar className=\"h-10 w-10 shadow\">\r\n              <AvatarFallback className=\"flex h-10 w-10 items-center justify-center rounded-full bg-orange-100 text-base font-semibold text-black\">\r\n                {getInitials(session?.user?.name || session?.user?.email || \"IN\")}\r\n              </AvatarFallback>\r\n            </Avatar>\r\n          </div>\r\n          {/* User info */}\r\n          <div className=\"flex flex-col min-w-0 flex-1\">\r\n            <p className=\"truncate text-[16px] font-semibold text-gray-900 leading-5\">\r\n              {session?.user?.name || \"User\"}\r\n            </p>\r\n            <p className=\"truncate text-[13px] text-gray-500 leading-4\">\r\n              {session?.user?.email}\r\n            </p>\r\n          </div>\r\n          {/* Open menu button */}\r\n          <ProfileMenuUp\r\n            name={session?.user?.name}\r\n            email={session?.user?.email}\r\n          />\r\n        </div>\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;;AAVA;;;;;;;;;;AAaA,MAAM,UAAU,CAAC,EAAE,OAAO,EAAwB;IAChD,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAE3B,qBACE,8OAAC;QACC,WAAU;QACV,OAAO;YAAE,UAAU;QAAG;;0BAEtB,8OAAC;;kCAEC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,6HAAA,CAAA,UAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;0CAEZ,8OAAC;gCAAG,WAAU;0CAAiE;;;;;;;;;;;;kCAMjF,8OAAC;wBAAI,WAAU;kCACZ,yGAAA,CAAA,yBAAsB,CAAC,GAAG,CAAC,CAAC;4BAC3B,MAAM,aACJ,KAAK,KAAK,KAAK,WACX,SAAS,UAAU,CAAC,YACpB,aAAa,KAAK,KAAK;4BAE7B,qBACE,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAM,KAAK,KAAK;0CACpB,cAAA,8OAAC;oCACC,WAAW;wCACT;wCACA;wCACA;wCACA,aACI,8EACA;qCACL,CAAC,IAAI,CAAC;;sDAEP,8OAAC,6HAAA,CAAA,UAAK;4CACJ,KAAK,KAAK,GAAG;4CACb,KAAK,KAAK,IAAI;4CACd,OAAO;4CACP,QAAQ;4CACR,WAAW,aAAa,wBAAwB;;;;;;sDAElD,8OAAC;4CAAK,WAAU;sDAAiB,KAAK,IAAI;;;;;;;;;;;;+BAlBjB,KAAK,KAAK;;;;;wBAsB3C;;;;;;;;;;;;0BAKJ,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,2HAAA,CAAA,SAAM;gCAAC,WAAU;0CAChB,cAAA,8OAAC,kKAAA,CAAA,iBAAc;oCAAC,WAAU;8CACvB,CAAA,GAAA,4GAAA,CAAA,cAAW,AAAD,EAAE,SAAS,MAAM,QAAQ,SAAS,MAAM,SAAS;;;;;;;;;;;;;;;;sCAKlE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CACV,SAAS,MAAM,QAAQ;;;;;;8CAE1B,8OAAC;oCAAE,WAAU;8CACV,SAAS,MAAM;;;;;;;;;;;;sCAIpB,8OAAC;4BACC,MAAM,SAAS,MAAM;4BACrB,OAAO,SAAS,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAMlC;uCAEe","debugId":null}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/lib/user.ts"],"sourcesContent":["export type User = {\r\n  id: string;\r\n  email: string;\r\n  name?: string;\r\n  role: string;\r\n};\r\n\r\nexport type Session = {\r\n  user: User;\r\n};\r\n\r\nexport const getUserInfo = async (token: string) => {\r\n  const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/auth/me`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n  if (!res.ok) throw new Error('Unauthorized');\r\n  return res.json();\r\n};"],"names":[],"mappings":";;;AAWO,MAAM,cAAc,OAAO;IAChC,MAAM,MAAM,MAAM,MAAM,6DAAmC,YAAY,CAAC,EAAE;QACxE,SAAS;YACP,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/components/dashboard/schoolTable.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { PowerOff, Power, Pencil, Trash } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ntype School = {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  createdAt: string;\r\n  status?: string;\r\n};\r\n\r\ninterface SchoolTableProps {\r\n  schools: School[];\r\n}\r\n\r\nconst SchoolTable: React.FC<SchoolTableProps> = ({ schools }) => {\r\n  const router = useRouter();\r\n  const [deletingId, setDeletingId] = useState<string | null>(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [selectedSchool, setSelectedSchool] = useState<School | null>(null);\r\n  const [statusChangingId, setStatusChangingId] = useState<string | null>(null);\r\n\r\n  const openDeleteModal = (school: School) => {\r\n    setSelectedSchool(school);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const closeDeleteModal = () => {\r\n    setSelectedSchool(null);\r\n    setShowModal(false);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!selectedSchool) return;\r\n    setDeletingId(selectedSchool.id);\r\n    const token = localStorage.getItem(\"token\");\r\n    const res = await fetch(\r\n      `${process.env.NEXT_PUBLIC_API_URL}/api/admin/school/${selectedSchool.id}`,\r\n      {\r\n        method: \"DELETE\",\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n    setDeletingId(null);\r\n    setShowModal(false);\r\n    setSelectedSchool(null);\r\n    if (res.ok) {\r\n      router.refresh();\r\n    } else {\r\n      alert(\"Failed to delete user\");\r\n    }\r\n  };\r\n\r\n  const handleStatusChange = async (school: School, newStatus: string) => {\r\n    setStatusChangingId(school.id);\r\n    const token = localStorage.getItem(\"token\");\r\n    const res = await fetch(\r\n      `${process.env.NEXT_PUBLIC_API_URL}/api/admin/school/${school.id}/status`,\r\n      {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({ status: newStatus }),\r\n      }\r\n    );\r\n    setStatusChangingId(null);\r\n    if (res.ok) {\r\n      router.refresh();\r\n    } else {\r\n      alert(\"Failed to update status\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"overflow-x-auto rounded-xl border border-gray-200 shadow-sm\">\r\n      <table className=\"min-w-full text-sm text-left\">\r\n        <thead className=\"bg-gray-50 text-gray-600 uppercase text-xs\">\r\n          <tr>\r\n            <th className=\"px-6 py-4\">Name</th>\r\n            <th className=\"px-6 py-4\">Email</th>\r\n            <th className=\"px-6 py-4\">Date of Created</th>\r\n            <th className=\"px-6 py-4\">Status</th>\r\n            <th className=\"px-6 py-4\">Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"divide-y divide-gray-100 bg-white\">\r\n          {(schools ?? []).map((school) => (\r\n            <tr key={school.id}>\r\n              <td className=\"px-6 py-4 flex items-center gap-3\">\r\n                <div className=\"w-8 h-8 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center font-bold\">\r\n                  {school.name?.charAt(0).toUpperCase()}\r\n                </div>\r\n                <span>{school.name}</span>\r\n              </td>\r\n              <td className=\"px-6 py-4\">{school.email}</td>\r\n              <td className=\"px-6 py-4\">\r\n                {new Date(school.createdAt).toLocaleDateString(\"en-US\", {\r\n                  month: \"short\",\r\n                  day: \"numeric\",\r\n                  year: \"numeric\",\r\n                })}\r\n              </td>\r\n              <td className=\"px-6 py-4\">\r\n                {school.status !== \"deactivated\" ? (\r\n                  <span className=\"bg-green-100 text-green-700 px-2 py-1 rounded\">\r\n                    Active\r\n                  </span>\r\n                ) : (\r\n                  <span className=\"bg-red-100 text-red-700 px-2 py-1 rounded\">\r\n                    Deactivate\r\n                  </span>\r\n                )}\r\n              </td>\r\n              <td className=\"px-6 py-4 flex items-center gap-2\">\r\n                {school.status !== \"deactivated\" ? (\r\n                  <Button\r\n                    className=\"bg-yellow-100 text-yellow-700 px-2 py-1 rounded mr-2 flex items-center gap-1\"\r\n                    onClick={() => handleStatusChange(school, \"deactivated\")}\r\n                    disabled={statusChangingId === school.id}\r\n                  >\r\n                    <PowerOff size={16} />\r\n                    {statusChangingId === school.id && <span>...</span>}\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    className=\"bg-blue-100 text-blue-700 px-2 py-1 rounded mr-2 flex items-center gap-1\"\r\n                    onClick={() => handleStatusChange(school, \"active\")}\r\n                    disabled={statusChangingId === school.id}\r\n                  >\r\n                    <Power size={16} />\r\n                    {statusChangingId === school.id && <span>...</span>}\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  className=\"bg-gray-100 text-gray-700 px-2 py-1 rounded mr-2 flex items-center gap-1\"\r\n                  onClick={() => router.push(`/admin/edit/${school.id}`)}\r\n                >\r\n                  <Pencil size={16} />\r\n                </Button>\r\n                <Button\r\n                  className=\"bg-red-100 text-red-700 px-2 py-1 rounded flex items-center gap-1\"\r\n                  onClick={() => openDeleteModal(school)}\r\n                  disabled={deletingId === school.id}\r\n                >\r\n                  <Trash size={16} />\r\n                  {deletingId === school.id && <span>Deleting...</span>}\r\n                </Button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      {showModal && selectedSchool && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40\">\r\n          <div className=\"bg-white rounded-lg shadow-lg p-8 min-w-[320px] flex flex-col items-center\">\r\n            <div className=\"font-bold text-lg mb-6 text-center\">\r\n              Are you sure you want to delete ?\r\n            </div>\r\n            <div className=\"flex gap-4 w-full justify-center\">\r\n              <Button\r\n                className=\"bg-gray-300 text-gray-700 px-6 py-2 rounded font-bold\"\r\n                onClick={closeDeleteModal}\r\n                disabled={deletingId === selectedSchool.id}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                className=\"bg-red-500 text-white px-6 py-2 rounded font-bold\"\r\n                onClick={handleDelete}\r\n                disabled={deletingId === selectedSchool.id}\r\n              >\r\n                Delete\r\n                {deletingId === selectedSchool.id && <span>...</span>}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(SchoolTable);"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 828, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hengs/Desktop/fyp/frontend/app/%28dashboard%29/admin/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Sidebar from \"@/components/dashboard/Sidebar\";\r\nimport { getUserInfo, Session } from \"@/lib/user\";\r\nimport SchoolTable from \"@/components/dashboard/schoolTable\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\ntype School = {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  createdAt: string;\r\n  status?: string; // If you have a status field\r\n};\r\n\r\ntype Stats = {\r\n  total: number;\r\n  active: number;\r\n  deactivated: number;\r\n};\r\n\r\nconst Page = () => {\r\n  const [session, setSession] = useState<Session | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [stats, setStats] = useState<Stats | null>(null);\r\n  const [schools, setSchools] = useState<School[]>([]);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const token = typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\r\n    if (!token) {\r\n      router.replace(\"/login\");\r\n      return;\r\n    }\r\n    getUserInfo(token)\r\n      .then((user) => {\r\n        if (user.role === \"admin\") {\r\n          setSession({ user });\r\n          // Fetch dashboard data\r\n          fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/admin/dashboard`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n              setStats(data.stats);\r\n              setSchools(data.schools);\r\n            });\r\n        } else {\r\n          router.replace(\"/unauthorized\");\r\n        }\r\n      })\r\n      .catch(() => {\r\n        router.replace(\"/login\");\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }, [router]);\r\n\r\n  if (loading)\r\n    return <div className=\"flex h-screen w-full items-center justify-center\">Loading...</div>;\r\n  if (!session) return null;\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen w-full flex-row\">\r\n      <Sidebar session={session} />\r\n      <main className=\"flex-1 p-8 bg-[#F8F8FF]\">\r\n        <h1 className=\"text-2xl font-bold mb-6\">Welcome, {session.user.name}</h1>\r\n\r\n        {/* Stats */}\r\n        <div className=\"grid grid-cols-3 gap-4 mb-8\">\r\n          <div className=\"bg-white rounded-xl p-6 shadow text-center\">\r\n            <div className=\"text-3xl font-bold text-[#25388C]\">{stats?.total ?? \"-\"}</div>\r\n            <div className=\"text-gray-600 mt-2\">School</div>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl p-6 shadow text-center\">\r\n            <div className=\"text-3xl font-bold text-[#25388C]\">{stats?.active ?? \"-\"}</div>\r\n            <div className=\"text-gray-600 mt-2\">Active</div>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl p-6 shadow text-center\">\r\n            <div className=\"text-3xl font-bold text-[#25388C]\">{stats?.deactivated ?? \"-\"}</div>\r\n            <div className=\"text-gray-600 mt-2\">Deactivate</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* School Table */}\r\n        <div className=\"bg-white rounded-xl shadow p-6\">\r\n\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h2 className=\"text-xl font-semibold mb-4\">School</h2>\r\n            <Button\r\n              className=\"mt-4 bg-[#25388C] hover:bg-[#1e2e6d] text-white\"\r\n              onClick={() => router.push(\"/admin/new\")}\r\n            >\r\n              + Create New School\r\n            </Button>\r\n          </div>\r\n          <SchoolTable schools={schools} />\r\n          \r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Page;"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAsBA,MAAM,OAAO;IACX,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAgB;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IACnD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,6EAAgE;QAC9E,wCAAY;YACV,OAAO,OAAO,CAAC;YACf;QACF;;IAsBF,GAAG;QAAC;KAAO;IAEX,IAAI,SACF,qBAAO,8OAAC;QAAI,WAAU;kBAAmD;;;;;;IAC3E,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,mIAAA,CAAA,UAAO;gBAAC,SAAS;;;;;;0BAClB,8OAAC;gBAAK,WAAU;;kCACd,8OAAC;wBAAG,WAAU;;4BAA0B;4BAAU,QAAQ,IAAI,CAAC,IAAI;;;;;;;kCAGnE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDAAqC,OAAO,SAAS;;;;;;kDACpE,8OAAC;wCAAI,WAAU;kDAAqB;;;;;;;;;;;;0CAEtC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDAAqC,OAAO,UAAU;;;;;;kDACrE,8OAAC;wCAAI,WAAU;kDAAqB;;;;;;;;;;;;0CAEtC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDAAqC,OAAO,eAAe;;;;;;kDAC1E,8OAAC;wCAAI,WAAU;kDAAqB;;;;;;;;;;;;;;;;;;kCAKxC,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAA6B;;;;;;kDAC3C,8OAAC,2HAAA,CAAA,SAAM;wCACL,WAAU;wCACV,SAAS,IAAM,OAAO,IAAI,CAAC;kDAC5B;;;;;;;;;;;;0CAIH,8OAAC,uIAAA,CAAA,UAAW;gCAAC,SAAS;;;;;;;;;;;;;;;;;;;;;;;;AAMhC;uCAEe","debugId":null}}]
}